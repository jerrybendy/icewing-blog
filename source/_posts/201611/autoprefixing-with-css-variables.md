---
title: ã€è¯‘ã€‘å·§ç”¨ CSS å˜é‡å®ç°è‡ªåŠ¨å‰ç¼€
date: 2016-11-07 09:25:33
updated: 2016-11-07 09:25:33
tags:
  - CSS
categories:
  - å‰ç«¯
---

> åŸæ–‡ [http://lea.verou.me/2016/09/autoprefixing-with-css-variables/](http://lea.verou.me/2016/09/autoprefixing-with-css-variables/)

æœ€è¿‘ï¼Œå½“æˆ‘åœ¨åˆ¶ä½œ [markapp.io](http://markapp.io/) è¿™ä¸ªå°ç½‘ç«™çš„æ—¶å€™ï¼Œæˆ‘æƒ³å‡ºä¸€ä¸ªå·§å¦™çš„æŠ€å·§ç”¨åœ¨ CSS å˜é‡ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¤©ç„¶åœ°ä½¿ç”¨å®ƒä»¬çš„åŠ¨æ€æœ¬è´¨ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å½“ä½ æƒ³ä½¿ç”¨ä¸€ä¸ªå±æ€§ï¼Œä½†æ˜¯è¿™ä¸ªå±æ€§æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ— å‰ç¼€çš„æ ‡å‡†ç‰ˆå’Œä¸€ä¸ªæˆ–å¤šä¸ªæœ‰å‰ç¼€çš„ç‰ˆæœ¬çš„æƒ…å½¢ã€‚åœ¨è¿™é‡Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨`clip-path`ï¼Œ[ç›®å‰](http://caniuse.com/#feat=css-clip-path)éœ€è¦åŒæ—¶ä½¿ç”¨æ— å‰ç¼€çš„ç‰ˆæœ¬å’Œä¸€ä¸ª`-webkit-`å‰ç¼€çš„ç‰ˆæœ¬ï¼Œæˆ‘çš„è¿™ä¸ªæ–¹æ³•å¯ä»¥é€‚ç”¨äºè¿™ç§æƒ…å†µï¼Œä¸ç®¡è¿™ä¸ª CSS å±æ€§æ˜¯ä»€ä¹ˆï¼Œæœ‰å¤šå°‘ç§å‰ç¼€ï¼Œåªè¦å®ƒä¸è®ºä»€ä¹ˆå‰ç¼€çš„å€¼éƒ½æ˜¯åŒæ ·çš„å°±å¯ä»¥ã€‚

ç¬¬ä¸€æ­¥æ˜¯åœ¨æ‰€æœ‰å…ƒç´ ä¸Šå®šä¹‰ä¸€ä¸ª `--clip-path` å±æ€§ï¼Œå€¼æ˜¯ `initial`ã€‚è¿™æ ·é˜»æ­¢è¿™ä¸ªå±æ€§åœ¨æ¯ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™è¢«ç»§æ‰¿ï¼Œè€Œç”±äº `*` æ²¡æœ‰ç‰¹å¼‚æ€§ï¼Œä»»ä½•ä½¿ç”¨äº† `--clip-path` çš„å£°æ˜éƒ½èƒ½è¢«è¦†ç›–ã€‚ç„¶åä½ å®šä¹‰æ‰€æœ‰ä¸åŒç‰ˆæœ¬çš„å±æ€§åï¼Œå€¼ä¸º `var(--clip-path)`ï¼š

```css
* {
  --clip-path: initial;
  -webkit-clip-path: var(--clip-path);
  clip-path: var(--clip-path);
}
```

è¿™æ ·ï¼Œåœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨ `clip-path` çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½ç”¨ `--clip-path` æ›¿ä»£ï¼Œå®ƒå¯ä»¥æ­£å¸¸å·¥ä½œï¼š

```css
header {
  --clip-path: polygon(0% 0%, 100% 0%, 100% calc(100% - 2.5em), 0% 100%);
}
```

ç”šè‡³è¿ `!important` éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œå› ä¸º[å®ƒå½±å“ CSS å˜é‡çš„çº§è”](https://www.w3.org/TR/css-variables/#syntax)ã€‚æ­¤å¤–ï¼Œå¦‚æœç”±äºæŸäº›åŸå› ä½ æƒ³è¦æ˜ç¡®åœ°è®¾ç½® `-webkit-clip-path`ï¼Œä½ ä¹Ÿå¯ä»¥æ­£å¸¸å†™ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸º `*` æ˜¯é›¶ç‰¹å¼‚æ€§ï¼ˆæ„å‘³ç€æ˜¯æœ€ä½ä¼˜å…ˆçº§çš„é€‰æ‹©ç¬¦â€”â€”è¯‘è€…æ³¨ï¼‰ã€‚è¿™ç§ç”¨æ³•çš„ä¸»è¦ç¼ºç‚¹æ˜¯è¦æ±‚æµè§ˆå™¨å¿…é¡»åŒæ—¶æ”¯æŒä½ ä½¿ç”¨çš„å±æ€§å’Œ CSS å˜é‡æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ä¸è¿‡ï¼Œ[é™¤äº† Edge ä¹‹å¤–ï¼Œæ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ CSS å˜é‡](http://caniuse.com/#feat=css-variables)è€Œ [Edge ä¹Ÿåœ¨å‡†å¤‡æ”¯æŒå®ƒ](https://developer.microsoft.com/en-us/microsoft-edge/platform/status/csscustompropertiesakacssvariables/)ã€‚é™¤äº†ä¸Šé¢è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ²¡å‘ç°å…¶å®ƒçš„ç¼ºç‚¹äº†ï¼ˆé™¤äº†æ˜¾ç„¶å¿…é¡»ä½¿ç”¨ä¸æ ‡å‡†å±æ€§æœ‰äº›ä¸åŒçš„å±æ€§ä¹‹å¤–ï¼‰ï¼Œä½†æ˜¯å¦‚æœä½ æœ‰å‘ç°åˆ«çš„å‘ï¼Œè¯·åœ¨è¯„è®ºé‡Œé¢ç•™è¨€è®©æˆ‘çŸ¥é“ï¼

æˆ‘æƒ³ï¼ŒCSS å˜é‡çš„å·§å¦™ç”¨æ³•è¿˜æœ‰è®¸å¤šæœ‰å¾…å‘æ˜ã€‚æˆ‘æƒ³è¦çŸ¥é“è¿™ä¸ªæŠ€å·§æ˜¯å¦èƒ½æ”¹è¿›ä¸€ä¸‹è®©å®ƒæ”¯æŒè‡ªå®šä¹‰ css å±æ€§å…¨å†™ï¼Œæ¯”å¦‚å°† `box-shadow` åˆ†å¼€æˆ `--box-shadow-x` å’Œ `--box-shadow-y` ç­‰ç­‰ï¼Œä½†æ˜¯ç›®å‰æˆ‘è¿˜æ²¡æƒ³åˆ°å¥½åŠæ³•ã€‚ä½ æœ‰å¥½åŠæ³•å—ï¼ŸğŸ˜‰

---

> æœ¬æ–‡è½¬è‡ªï¼š[åå¹´è¸ªè¿¹çš„åšå®¢](https://www.h5jun.com/post/autoprefixing-with-css-variables-lea-verou.html)
> è‹±æ–‡åŸæ–‡åœ°å€ï¼š[http://lea.verou.me/2016/09/autoprefixing-with-css-variables/](http://lea.verou.me/2016/09/autoprefixing-with-css-variables/)   

