---
title: 使用串联路由器的方法破解联通限制使用路由器
id: 893
categories:
  - 分享
date: 2014-01-22 19:29:52
tags:
---

以下内容并非原创，收藏并分享起来帮助解决相同的问题。

<span style="line-height: 1.5em;">从理论和工程上讲，每个网卡都有全球唯一的地址，成为MAC，它是一个48位的二进制数。当我们通过路由器拨号上网后，网通局端路由器将分配给我们的路由器一个IP地址。为了让每个数据包能够迅速找到发起数据请求的计算机，路由器往往会把MAC封装到数据包里面。这时，网通通过“网络尖兵”、“信风”一类的软件扫描、监测每个IP地址的数据请求，一旦发现某个IP的数据请求里面包含两个以上的MAC地址，它就会封锁该IP。</span>

怎么封锁IP呢？首先不能屏蔽IP地址，因为绝大部分用户的IP地址是临时分配的；其次，不能屏蔽账号，因为一旦屏蔽账号，一个小时后解除屏蔽就有技术上的难题，同时网通也会冒着违反协议的法律风险。网通到底怎么做的呢？我们发现，即便是封锁了路由器，我们依然可以上qq，可以用电骡下载，这就说明网通既没有封锁IP，也没有封锁账号，也没有全部封锁TCP/IP协议的相关端口。

那么，他们只能要么封锁了浏览器需要的端口，要了封锁了DNS。这才是问题最关键的地方。网通权衡了成本和效益，既能把封锁的成本降到最低，还能封锁绝大部分不懂行的用户。企业，总是最求效益的最大化，封锁屏蔽不过是一种手段，他们不可能不惜成本把封锁做的很完美。
通过升级路由器固件，躲过封锁，原理是路由器改变了打包的方式，在数据包里面屏蔽了MAC信息，对于广域网而言，看到的只是路由器的MAC。这个方式无疑是最完美的。但是，正如上文所讲，并不是每个路由器都能找到可以躲过封锁的固件。事实上，路由器厂家已经承受了来之于网通、电信的压力。

国内最早封锁路由器的地方是徐州，效果良好。于是网通、电信开始推广经验。然后TP-LINK，马上开发了能够躲避封锁的固件放到官网上。但是，明眼人会发现，很快在TP-LINK的官网上，这个躲避封锁的固件链接消失了。这是为什么？不知道的事情不能乱说，但是我们仍然可以做一个大胆的猜测：网通、电信向TP-LINK施压了；或许，网通、电信知道封锁路由器是不符合法律的，他们通过信产部向TP-LINK 施压了。TP-LINK可以不正面理会网通、电信，但是他不能不理会信产部。对于信产部而言，TP-LINK不过是小老婆生的，而网通、电信才是嫡子。TP-LINK就是有天大的胆量也不敢得罪信产部。于是，我们会发现，很多路由器厂家的官网上，不再提供能躲避封锁的固件的下载服务。
不能通过升级固件解决共享问题，难道没有其他的方法了吗？有的。不升级固件躲避封锁的方法很多，但我们可以把它们分成两大类：一是安装软件，而是修改网卡MAC地址，三是双路由器。我分别介绍。

第一类，通过安装软件，要么相互提供代理服务，要么改变数据包的封装形式。这类软件有很多，比如常见的代理软件Sygate、WinGate、Windows中的网络共享等、共享神盾等。rummy认为共享神盾是比较稳定的。这一类方法，网上有很多资料可供参考，在此，rummy不再饶舌。这一类方法，总的来说，需要用户具备简单的电脑知识，在设置上有一些难度；并且对网速有一定的影响，如果用户使用P2P软件，整个网络传输效率将受到很大影响；一旦重装系统，或者代理软件出了问题，便会不能上网。这类方法，总的来说，还是不稳定。

第二类，修改MAC地址。修改网卡的物理地址，需要很专业知识的。除了reatek8139相对容易一点，其他芯片的网卡，即便是专业人员也很难修改。普通用户只能通过操作系统或者相关软件修改网卡的MAC，使所有网卡都使用路由器的MAC。这一类方法，也不稳定。重装系统或者软件出了问题，也容易导致不能上网。

上述两类两类方法，从理论上讲是可行的。但是总的来说，网络不稳定，设置较复杂，限制因素较多，容易出故障。有没有一劳永逸的方法呢？无论网通怎么升级“网络尖兵”，无论用户端怎么重装系统，都不影响共享呢？这是我将要着重讲述的。这就是双路由器屏蔽封锁法。这个方法，没有任何技术要求，客户端不需要安装任何软件，甚至不需要设置参数，一劳永逸。

什么是双路由器呢？

什么是双路由器呢？我们先假定你的宽带猫不具备路由功能（事实上，网通给的宽带猫几乎都不具备路由功能）。我们购买两台路由器，一台按照正常方法和宽带猫连接好，设置好拨号参数，设置LAN口IP为“192.168.1.2——192.168.1.255”，子网掩码“255.255.255.0”，一如平时。然后从这台路由的任何一个LAN口引出一根线，接入令外一台路由器的WAN口。然后设置这台路由器为固定IP：“192.168.1.2”。请注意：LAN口设置成“192.0.0.0——192.0.0.255”、子网掩码设置成“255.0.0.0”。懂行的人都知道，只要网段不一样就行，IP地址其实是随意的。然后，把所有需要共享的计算机接入第二台路由器上。你会发现，网通、电信就是有天大的本事也封锁不了了。

原理是什么？路由器其实就是一台专用计算机，它在网络中的地位和主机是完全一样的。第一台路由器既充当了拨号服务器，也充当了代理服务器，数据包经过两次封装，“网络尖兵”就是拥有了神仙般的智慧也看不到了。

rummy强烈推荐大家使用这种方法，该方法设置简单，维护简单，不怕网通升级扫描软件，不怕客户端重装系统，甚至不需要客户设置任何参数，接上线就能用，真是一劳永逸的最佳方案。

经本人（冰翼）亲自测试，只要两个路由器不在同一个网段（例如一个是192.168.1.1另一个是192.168.2.1）均可。仅仅通过上述方法连接后QQ可以登录，但打不开网页，原因是第二个路由器的DNS默认是0.0.0.0，需要从第一个路由器里面复制DNS地址到第二个路由器中，这样就可以正常打开网页了。

转自：[http://www.douban.com/group/topic/33430786/](http://www.douban.com/group/topic/33430786/)有改动
